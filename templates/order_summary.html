{% extends "base.html" %} {% block content %}
<main class="pt-5">
  <div class="order-table">
    <div class="table text-nowrap pt-5">
      <h2 style="background-color:black ;color:#BF9000; display: inline-block; padding:2px 15px; border-radius:5px; font-family: 'Prompt', sans-serif;">Ostoskori</h2>
        <table class="table table-responsive">
          <thead class="order-prod-text">
            <tr>
              <th scope="col" class="h6">Tuote</th>
              <td class="table-col-2"></td>
              <th scope="col" class="h6 table-col">Hinta</th>
              <th scope="col" class="h6 ">Määrä</th>
              <th scope="col" class="h6 table-col-2"></th>
              <th scope="col" class="h6" class="px-4">Kokonaishinta</th>
            </tr>
          </thead>
          <tbody>
            {% for order_product in product %}
            <tr>
              <td class="h6">
                <a
                  style="color: red"
                  href="{% url 'main:remove-from-cart' order_product.product.slug %}"
                >
                  <i class="fas fa-trash"></i>
                </a>
                &nbsp;&nbsp;
                {{ order_product.product.name }}
              </td>
              <td class="table-col-2"></td>
              <td class="h6 table-col">{{ order_product.price }}&nbsp;&euro;</td>
              <td class="">
                <a
                  href="{% url 'main:remove-single-item-from-cart' order_product.product.slug order_product.price %}"
                  ><i class="fas fa-minus mr-2"></i></a> &nbsp;

                <span class="h6 ">{{ order_product.quantity }}</span> &nbsp;

                &nbsp;
                <a href="{% url 'main:add-to-cart' order_product.product.slug order_product.price %}"
                ><i class="fas fa-plus"></i
                ></a>
              </td>
                <td class="table-col-2"></td>
                <td class="pl-5 h5">
                  {{ order_product.get_final_price }} &nbsp;&euro;
              </td>
              <td class="delete-item">

            </td>
            </tr>
            {% empty %}
            <tr>
              <td >Ostoskorisi on tyhjä</td>
            </tr>
            <tr>
              <!-- will redirect the client to the home page  -->
              <td >
                <a class="btn btn-primary float-left" href="/"
                  >Jatka ostoksia</a
                >
              </td>
            </tr>

            {% endfor %}
            <!-- It's a condition,  if there is a product, the client can proceed to checkout   -->
            {% if object.get_total %}
            <tr>
              <td  class="h5 pt-4"><b>Yhteensä</b></td>
              <td></td>
              <td class="">
                <div><h2><span class="badge px-3 total-price" style="background-color:black; color:white;">{{ object.get_total }}&nbsp;&euro;</span></h2></div>
              </td>
            </tr>
            <tr>
              <td >
                <span class="order-but">
                  <a class="btn mt-3" style="background-color:black ;color:#BF9000; font-family: 'Prompt', sans-serif;" href="/"
                    >Jatka ostoksia</a
                  >
                </span>
                <span class="order-but">
                  <a class="btn mt-3 order-but" style="background-color:#BF9000 ;color:black; font-family: 'Prompt', sans-serif;" href="/checkout/"
                    >Maksamaan</a
                  >
                </span>
              </td>
            </tr>
            {% endif %}
          </tbody>
        </table>
        </div>
    </div>
</main>
<br>
<br><br><br><br><br>
{% endblock content %}
